
<div  class="top-cnt">
    <div class="cnt1">
     <!-- <div>
         <mat-icon ="cursor: pointer;font-weight: 550;" aria-hidden="false" title="back" 
             fontIcon="arrow_back_ios"  ="cursor: pointer;"></mat-icon>
     </div>
     <div  ="font-size:1.4vw; font-weight: 500;font-: italic;cursor: pointer;">
         <span ="margin: 0px;">Restricted Access</span>
     </div> -->
     <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon=" arrow_back_ios"   class="mpointer"></mat-icon>
            <span class="headertext" >Restricted Access</span>
     </div>
 </div>
 <div class="approverheader">
  <div class="circleoutline">
    <span class="circletxt">1</span>
    <span id="pcgtxt">Plant Code/Group</span>
  </div>
  <hr class="aprheaderline">
  <div class="circleoutline">
    <span id="circletxttwo">2</span>
    <span id="aprtxt">Approver</span>
  </div>
</div>
<div class="tableheadtxt">
<div>
  <span>Available Acces Code/Group</span>
</div>
<div >
    <mat-form-field appearance="outline" class="addramff">
        <div style="display:flex; justify-content: space-between; align-items: center; flex-direction: row;">
          <input (keyup)="applyFilter($event)"  matInput placeholder="Plant Code/Group" class="pltsrip">
          <svg  fill="#00ADE5" xmlns="http://www.w3.org/2000/svg" height="3vh" viewBox="0 96 960 960" width="3vw"><path d="M796 935 533 672q-30 26-69.959 40.5T378 727q-108.162 0-183.081-75Q120 577 120 471t75-181q75-75 181.5-75t181 75Q632 365 632 471.15 632 514 618 554q-14 40-42 75l264 262-44 44ZM377 667q81.25 0 138.125-57.5T572 471q0-81-56.875-138.5T377 275q-82.083 0-139.542 57.5Q180 390 180 471t57.458 138.5Q294.917 667 377 667Z"/></svg>
         </div>
    </mat-form-field>
    &nbsp; &nbsp;
    <button mat-button [matMenuTriggerFor]="menu"><span>
        <mat-icon style="height:18px"> sort</mat-icon>
        <p style="margin:0px; padding: 5px; display: inline-block;">sort</p>
        <mat-icon style="height:18px">keyboard_arrow_down</mat-icon></span></button>
   <mat-menu #menu="matMenu">
       <button mat-menu-item>ID Expiry</button>
       <button mat-menu-item>Contract No</button>
   </mat-menu>
</div>
</div>

<div style="display:flex;   justify-content: space-evenly; align-items: flex-start; flex-direction: row; height:auto; width:auto; ">
    <div style="display:flex; height:auto; width:45%; align-items: flex-start; justify-content: flex-start; ">
          <table mat-table [dataSource]="datatable2" class="mat-elevation-z0">
            <ng-container matColumnDef="select">
                <th mat-header-cell *matHeaderCellDef   >
                  <div class="mbox10">
                  <p style=" margin:0px;">Plant Code</p>
                  <div>
                    <mat-form-field appearance="outline" class="addramff">
                        <div style="display:flex; justify-content: flex-start; align-items: center; flex-direction: row;">
                          <svg  fill="#757575" xmlns="http://www.w3.org/2000/svg" height="3vh" viewBox="0 96 960 960" width="3vw"><path d="M796 935 533 672q-30 26-69.959 40.5T378 727q-108.162 0-183.081-75Q120 577 120 471t75-181q75-75 181.5-75t181 75Q632 365 632 471.15 632 514 618 554q-14 40-42 75l264 262-44 44ZM377 667q81.25 0 138.125-57.5T572 471q0-81-56.875-138.5T377 275q-82.083 0-139.542 57.5Q180 390 180 471t57.458 138.5Q294.917 667 377 667Z"/></svg>
                          <input  (keyup)="plantcodefltr($event)" matInput placeholder="Filter Gate" class="pltsrip">
                         </div>
                    </mat-form-field>
                  </div>
              </div>
                </th>
                <td mat-cell *matCellDef="let row" >
                  <div class="mbox9">
                  <mat-checkbox (click)="$event.stopPropagation()"
                  (change)="(addplantcode(row,$event));($event ? selection.toggle(row) : null)"
                                [checked]="selection.isSelected(row)"
                                [aria-label]="checkboxLabel(row)">
                  </mat-checkbox>
                  <p style=" margin:0px;" >{{row.plcd}}</p> 
                  </div>
                </td>
              </ng-container>
              <ng-container *matNoDataRow>
                <div class="no-data-row">
                  No data available
                </div>
              </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns1" class="addresheader"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
          </table>
    </div>
    <div style="display:flex; height:auto; width:45%; ">
        <table mat-table
       [dataSource]="datatable3" multiTemplateDataRows
       class="mat-elevation-z0" id="tableborder">
      
  <ng-container matColumnDef="expand"  >
  
    <th mat-header-cell *matHeaderCellDef aria-label="row actions"  >
      <div class="mbox10">
      <p style=" margin:0px;">Plant Group</p>
      <div>
        <mat-form-field appearance="outline" class="addramff">
          <div style="display:flex; justify-content: flex-start; align-items: center; flex-direction: row;">
            <svg  fill="#757575" xmlns="http://www.w3.org/2000/svg" height="3vh" viewBox="0 96 960 960" width="3vw"><path d="M796 935 533 672q-30 26-69.959 40.5T378 727q-108.162 0-183.081-75Q120 577 120 471t75-181q75-75 181.5-75t181 75Q632 365 632 471.15 632 514 618 554q-14 40-42 75l264 262-44 44ZM377 667q81.25 0 138.125-57.5T572 471q0-81-56.875-138.5T377 275q-82.083 0-139.542 57.5Q180 390 180 471t57.458 138.5Q294.917 667 377 667Z"/></svg>
            <input (keyup)="plantgrpfltr($event)" matInput placeholder="Filter Gate" class="pltsrip">
           </div>
        </mat-form-field>
      </div>
      </div>
    </th>
    <td mat-cell *matCellDef="let element" (click)="returnindex(element)">
      <div class="mbox9">
        <mat-checkbox (click)="$event.stopPropagation()"
                      (change)="(addplantgrp(element,$event));($event ? selection2.toggle(element) : null)"
                      [checked]="selection2.isSelected(element)"
                      [aria-label]="checkboxLabel2(element)">
        </mat-checkbox>
        <span style=" justify-content: center; align-items: center;">{{element.plgrp}}</span>
      <button mat-icon-button aria-label="expand row" (click)="(expandedElement = expandedElement === element ? null : element); $event.stopPropagation()" (click)="returnindex(element)" >
        <mat-icon *ngIf="expandedElement !== element" style="color:#00ADE5">keyboard_arrow_down</mat-icon>
        <mat-icon *ngIf="expandedElement === element" style="color:#00ADE5">keyboard_arrow_up</mat-icon>
      </button>
        </div>
        
    </td>
  </ng-container>

  <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
  <ng-container matColumnDef="expandedDetail">
    <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplayWithExpand.length">
      <div class="example-element-detail"
           [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'" >
            <table [dataSource]="datatable4"  mat-table class="mat-elevation-z8" id="expandtable">
                <!-- {StickerType:'Contractor Non Restricted',PlateNo:'2345-KSA',Model_Year:'2022',ExipiryDate:'11/02/2023',Status:'Active',Action:'View Details'} -->
             <!--selection Tag --> 
             <ng-container matColumnDef="select" >
              <!-- <th mat-header-cell *matHeaderCellDef   ="background-color: #EEF3F8; margin:auto; "   *ngIf="false"> -->
                <!-- <div class="mbox9">
              
                <p =" margin:0px;">Sticker Type</p>
            </div> -->
              <!-- </th> -->
              <td mat-cell *matCellDef="let row" >
                <div class="mbox9">
                <!-- <mat-checkbox (click)="$event.stopPropagation()"
                              (change)="$event ? selection.toggle(row) : null"
                              [checked]="selection.isSelected(row)"
                              [aria-label]="checkboxLabel(row)">
                </mat-checkbox> -->
                {{row.desc}}
                </div>
              </td>
            </ng-container>
              <!-- <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef ="background-color: #EEF3F8;"> Plate Number </th>
                <td mat-cell *matCellDef="let i=index let element"> {{element.GateCode}}</td>
              </ng-container> -->
            
                         <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> -->
              <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection2.toggle(row)"></tr>
        </table>
      </div>
    </td>
  </ng-container>
  <ng-container *matNoDataRow>
    <div class="no-data-row">
      No data available
    </div>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithExpand"  class="addresheader"></tr>
  <tr mat-row *matRowDef="let element; columns: columnsToDisplayWithExpand;"
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === element"
      (click)="expandedElement = expandedElement === element ? null : element">
  </tr>
  <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
        </table>
    </div>
</div>

<br>
    <br>
    <div class="footerbox">
        <button mat-raised-button class="vechilefont" id="cnclbtn" (click)="cancel()" >Cancel</button>
        <button mat-raised-button class="vechilefont" id="continuebtn" (click)="approver()">Continue</button>
    </div>
